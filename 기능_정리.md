# Live Commerce 플랫폼 기능 정리

## 📱 사용자 페이지 기능

### 1. 홈 페이지 (`/`)
- **기능**:
  - 지금 라이브 중인 방송 4개 미리보기
  - 인기 라이브 방송 목록 (시청자 수 기준 정렬)
  - 최근 라이브 방송 목록 (시간 기준 정렬)
  - 카테고리별 필터링 (전체, 뷰티, 푸드, 패션, 라이프, 여행/체험, 키즈, 테크, 취미레저)
  - 정렬 옵션 (인기순/최신순)
  - 미니 랭킹 보드 (상위 3명)
  - 라이브 방송 카드 클릭 시 플레이어 모달 열기

### 2. 라이브 방송 페이지 (`/live`)
- **기능**:
  - 전체 라이브 방송 목록 그리드 뷰
  - 실시간 랭킹 데이터 자동 갱신 (30초마다)
  - 라이브 방송 카드 클릭 시 플레이어 모달 열기
  - YouTube 및 자체 플랫폼 스트림 통합 재생

### 3. 랭킹 페이지 (`/ranking`)
- **기능**:
  - 크리에이터 실시간 랭킹 (포디움 형식 - 상위 3명)
  - 전체 랭킹 테이블 (순위, 크리에이터 정보, 점수, 변화량)
  - 실시간 랭킹 데이터 자동 갱신 (30초마다)
  - 랭킹 클릭 시 해당 크리에이터 라이브 방송 시청

### 4. 지역별 특산물 페이지 (`/map`)
- **기능**:
  - 전국 지도 뷰 (Leaflet 기반 인터랙티브 지도)
  - 지역별 제철 특산물 정보 표시
  - 지역별 라이브 방송 목록
  - 지도/리스트 뷰 토글
  - 리스트 뷰에서 전체 특산물 보기 (지역 미선택 시)
  - 지역 클릭 시 해당 지역 특산물 및 라이브 방송 필터링
  - 계절별 특산물 정보 표시
  - **다국어 지원**: 언어에 따라 해당 국가의 지역 및 특산물 표시
  - **지역 선택기**: 현재 언어에 맞는 국가의 지역 목록 표시

### 5. 상품 상세 페이지 (`/products/[id]`)
- **기능**:
  - 상품 이미지 갤러리 (대표 이미지 + 상세 이미지)
  - 상품 정보 (이름, 카테고리, 가격, 재고, 설명)
  - 수량 선택
  - 장바구니 추가
  - 바로 구매
  - 상품 태그 표시
  - 리뷰 목록 및 평점 표시
  - 리뷰 작성 기능

### 6. 장바구니 페이지 (`/cart`)
- **기능**:
  - 장바구니 상품 목록 표시
  - 상품 수량 조정 (증가/감소)
  - 상품 삭제 (개별/전체)
  - 배송지 입력
  - 쿠폰 코드 입력 및 적용
  - 코인 결제 옵션 (로그인 사용자)
  - 주문 요약 (상품 금액, 할인 금액, 최종 결제 금액)
  - TossPayments 결제 연동
  - 결제 완료 후 주문 내역 저장

### 7. 주문 내역 페이지 (`/orders`)
- **기능**:
  - 사용자별 주문 목록 조회
  - 주문 상태 표시 (결제 대기, 결제 완료, 배송 중, 배송 완료, 취소됨)
  - 주문 상세 정보 (주문번호, 주문일시, 상품 목록, 배송지)
  - 주문 취소 기능 (결제 대기/결제 완료 상태만 가능)
  - 취소 사유 입력
  - 환불 요청 자동 생성

### 8. 코인 관리 페이지 (`/coins`)
- **기능**:
  - 코인 잔액 조회
  - 코인 시세 차트
  - 코인 거래 내역 (적립/사용)
  - 거래 유형별 필터링 (적립/사용)
  - 거래 시간 및 잔액 표시

### 9. 크리에이터 스튜디오 페이지 (`/studio`)
- **기능**:
  - 방송 상태 모니터링 (라이브/오프라인)
  - RTMP 스트림 키 생성
  - 방송 설정 (제목, 설명)
  - 방송 시작/종료 제어
  - 스트림 정보 표시 (RTMP 서버, 스트림 키, HLS URL, 스트림 ID)
  - OBS Studio 설정 가이드
  - 상품 관리 (CRUD)
  - 배송 관리 (주문별 배송 상태 업데이트)
  - 프로모션 관리 (쿠폰, 1+1, 사은품)

### 10. 인증 페이지 (`/auth/login`)
- **기능**:
  - 이메일/비밀번호 로그인
  - 소셜 로그인 (Google, Facebook, Kakao)
  - 회원가입
  - 로그인 후 리다이렉트

### 11. 결제 성공/실패 페이지
- **결제 성공 페이지 (`/payment/success`)**:
  - 결제 완료 안내
  - 주문 정보 표시
  - 주문 내역 페이지로 이동

- **결제 실패 페이지 (`/payment/fail`)**:
  - 결제 실패 안내
  - 에러 메시지 표시
  - 장바구니로 돌아가기

---

## 🔧 관리자 페이지 기능 (`/admin`)

### 1. 관리자 대시보드 (`/admin`)
- **기능**:
  - 대시보드 개요
  - 빠른 접근 카드 (상품 관리, 배송 관리, 프로모션, 랭킹, 크리에이터, 환불)
  - 탭 기반 네비게이션

### 2. 상품 관리 (`/admin` - 상품 관리 탭)
- **기능**:
  - 전체 상품 목록 조회 (관리자 모드)
  - 상품 검색 (이름, 설명)
  - 카테고리별 필터링
  - 상품 활성화/비활성화 상태 확인
  - 상품 상세 보기
  - 상품 삭제
  - 상품 추가 (스튜디오 페이지로 이동)

### 3. 상품 목록 페이지 (`/admin/products`)
- **기능**:
  - 전체 상품 그리드 뷰
  - 상품 검색 및 필터링
  - 상품 상세 정보 확인
  - 상품 삭제
  - 상품 추가 링크

### 4. 배송 관리 (`/admin` - 배송 관리 탭)
- **기능**:
  - 전체 주문의 배송 상태 조회
  - 배송 상태 업데이트 (결제 완료 → 배송 중 → 배송 완료)
  - 배송지 정보 확인 및 수정
  - 주문별 배송 이력 추적

### 5. 프로모션 관리 (`/admin` - 프로모션 탭)
- **기능**:
  - 쿠폰 관리 (생성, 수정, 삭제, 활성화/비활성화)
  - 1+1 프로모션 관리
  - 사은품 프로모션 관리
  - 프로모션 적용 조건 설정
  - 프로모션 기간 설정

### 6. 랭킹 관리 (`/admin/ranking`)
- **기능**:
  - 크리에이터 랭킹 점수 수동 조정
  - 크리에이터 목록 관리
  - 랭킹 점수 계산 로직 확인
  - 랭킹 변경 이력 추적

### 7. 크리에이터 관리 (`/admin` - 크리에이터 탭)
- **기능**:
  - 크리에이터 목록 조회
  - 크리에이터 정보 수정
  - 크리에이터 활성화/비활성화
  - 크리에이터 통계 확인

### 8. 환불 관리 (`/admin/refunds`)
- **기능**:
  - 환불 요청 목록 조회
  - 환불 상태별 필터링 (전체, 대기 중, 승인됨, 거부됨, 완료됨)
  - 환불 요청 상세 정보 확인 (주문 정보, 환불 사유, 환불 금액, 환불 계좌)
  - 환불 승인/거부 처리
  - 관리자 메모 작성
  - 환불 처리 일시 추적

---

## 🎯 공통 기능

### 1. 헤더 네비게이션
- **기능**:
  - 로고 클릭 시 홈으로 이동
  - 메뉴: 라이브, 랭킹, 지역별 특산물, 스튜디오, 주문내역, 코인
  - 장바구니 아이콘 (상품 개수 배지 표시)
  - 사용자 메뉴 (로그인/로그아웃, 프로필)
  - 모바일 햄버거 메뉴
  - **언어 선택기**: 6개 언어 선택 가능
  - **알림 센터**: 실시간 알림 확인
  - **전역 검색**: 상품/크리에이터/지역 통합 검색
  - **테마 토글**: 다크/라이트 모드 전환

### 2. 인증 시스템
- **기능**:
  - 이메일/비밀번호 인증
  - 소셜 로그인 (Google, Facebook, Kakao)
  - 세션 관리
  - 사용자 프로필 관리
  - 역할 기반 접근 제어 (user, seller, admin)

### 3. 결제 시스템
- **기능**:
  - TossPayments 연동
  - 카드 결제
  - 코인 결제
  - 쿠폰 할인 적용
  - 결제 완료 후 주문 생성

### 4. 리뷰 시스템
- **기능**:
  - 상품별 리뷰 조회
  - 리뷰 작성 (평점, 텍스트, 이미지)
  - 리뷰 수정/삭제
  - 리뷰 평점 집계

### 5. 실시간 기능
- **기능**:
  - 라이브 방송 실시간 재생 (YouTube + 자체 플랫폼)
  - 랭킹 데이터 자동 갱신 (30초마다)
  - 방송 상태 실시간 모니터링 (5초마다)

### 6. Mock 데이터 시스템
- **기능**:
  - 프론트엔드 전용 모드 지원
  - LocalStorage 기반 데이터 저장
  - API 실패 시 Mock 데이터 자동 fallback
  - 주문, 리뷰, 환불, 코인 거래 등 Mock 데이터 제공
  - **다국가 지역/특산물 데이터**: 6개 국가별 지역 및 특산물 Mock 데이터

### 7. 알림 시스템
- **기능**:
  - 전역 알림 상태 관리 (Zustand)
  - 실시간 Toast 알림 (최대 3개 동시 표시)
  - 알림 센터 (읽지 않은 알림 개수 배지)
  - 알림 카테고리 분류 (라이브, 배송, 상품, 시스템)
  - LocalStorage 기반 알림 영구 저장

### 8. 검색 시스템
- **기능**:
  - 전역 검색 바 (헤더)
  - 상품/크리에이터/지역 통합 검색
  - 실시간 검색 결과 표시
  - 최근 검색어 저장
  - 인기 검색어 표시
  - 검색 필터 상태 전역 관리

### 9. 에러 처리 및 UX 보완
- **기능**:
  - 스켈레톤 UI (로딩 상태 시각적 피드백)
  - 공통 에러 페이지 (404, 500, 방송 종료, 품절, 오프라인)
  - 오프라인 인디케이터 (네트워크 연결 상태 표시)
  - 입력값 검증 유틸리티
  - 낙관적 업데이트 (좋아요, 장바구니 등)
  - 인피니트 스크롤 (라이브 목록, 상품 목록)

### 10. 데이터 관리 및 보안
- **기능**:
  - 장바구니 동기화 (비회원 → 회원 병합)
  - 트랜잭션 로그 시스템 (코인/결제 이력 추적)
  - 상태 보존 (Zustand persist 미들웨어)
  - 민감 데이터 마스킹 (전화번호, 계좌번호 등)
  - 관리자 전용 레이아웃 분리
  - 권한 기반 라우팅 (RBAC Middleware)

---

## 📊 데이터 관리

### 사용자 데이터
- 주문 내역 (LocalStorage)
- 장바구니 (Zustand Store)
- 코인 잔액 및 거래 내역
- 리뷰 작성 내역

### 관리자 데이터
- 전체 상품 목록
- 전체 주문 및 배송 상태
- 환불 요청 및 처리 내역
- 크리에이터 랭킹 점수

---

## 🔐 접근 제어

### 사용자 페이지
- 대부분의 페이지는 로그인 없이 접근 가능 (requireAuth={false})
- 일부 기능은 로그인 필요 (주문, 코인, 스튜디오)

### 관리자 페이지
- URL로 직접 접근 (`/admin`)
- 사용자 페이지 헤더에서 관리자 링크 제거됨
- 현재는 인증 체크 비활성화 (개발 모드)

---

## 🌐 다국어 지원 (i18n)

### 지원 언어
- 한국어 (ko) - 기본 언어
- 영어 (en)
- 일본어 (ja)
- 중국어 간체 (zh-CN)
- 베트남어 (vi)
- 태국어 (th)

### 구현 내용
- **커스텀 i18n 시스템**: Zustand 기반 로케일 관리
- **번역 파일**: JSON 기반 번역 파일 (`src/locales/*.json`)
- **동적 번역 로딩**: 필요 시 번역 파일 동적 로드
- **로케일별 포맷팅**:
  - 통화 포맷팅 (KRW, USD, JPY, CNY, VND, THB)
  - 날짜/시간 포맷팅 (로케일별 형식)
  - 숫자 포맷팅 (천 단위 구분)
- **지역별 특산물**: 언어에 따라 해당 국가의 지역 및 특산물 표시
  - 한국: 시/도별 특산물
  - 미국: 주(State)별 특산물
  - 일본: 도도부현별 특산물
  - 중국: 성(省)별 특산물
  - 베트남: 성(省)별 특산물
  - 태국: 주(Province)별 특산물

### 적용된 페이지/컴포넌트
- ✅ 모든 사용자 페이지 (홈, 라이브, 랭킹, 지도, 상품, 장바구니, 주문, 코인, 스튜디오, 프로필)
- ✅ 모든 관리자 페이지 (대시보드, 상품, 배송, 프로모션, 랭킹, 크리에이터, 환불)
- ✅ 공통 컴포넌트 (헤더, 푸터, 라이브 채팅, 알림, 검색, 에러 페이지)
- ✅ 지역 선택기 (언어에 따라 국가별 지역 표시)

### 주요 파일
- `src/store/i18n.ts` - 로케일 상태 관리
- `src/hooks/use-translation.ts` - 번역 훅
- `src/hooks/use-format.ts` - 포맷팅 훅
- `src/lib/format.ts` - 포맷팅 유틸리티
- `src/lib/i18n.ts` - 번역 로딩 유틸리티
- `src/components/language-selector.tsx` - 언어 선택 컴포넌트
- `src/locales/*.json` - 번역 파일

## 🎨 UI/UX 특징

- 다크 모드 지원
- 완전 반응형 디자인 (모바일/태블릿/데스크톱)
- Tailwind CSS + shadcn/ui 컴포넌트
- 부드러운 애니메이션 및 전환 효과
- 로딩 상태 표시
- 에러 처리 및 사용자 피드백
- **다국어 지원** (6개 언어)
- **로케일별 날짜/시간/통화 포맷팅**
